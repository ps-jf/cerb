{
    "name": "cerb.projectBoard.toolbar.task.add",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "inputs:\r\n  record/column:\r\n    record_type: project_board_column\r\n    required@bool: yes\r\n\r\nstart:\r\n  await:\r\n    form:\r\n      elements:\r\n        say/respond_98b765:\r\n          content: ## Add task\r\n        \r\n        text/prompt_summary:\r\n          label: Summary:\r\n          required@bool: yes\r\n          type: freeform\r\n          placeholder: (enter a brief description of the task)\r\n          \r\n        sheet/prompt_owner:\r\n          label: Owner:\r\n          data:\r\n            function:\r\n              uri: cerb:automation:cerb.data.records\r\n              inputs:\r\n                record_type: worker\r\n                query_required: isDisabled:n\r\n          limit: 5\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              filtering@bool: yes\r\n              #title_column: key\r\n            columns:\r\n              selection/id:\r\n                params:\r\n                  mode: single\r\n                  #mode: multiple\r\n              card/_label:\r\n                params:\r\n                  bold@bool: yes\r\n                  image@bool: yes\r\n              text/title:\r\n  \r\n  record.create/create_task:\r\n    output: new_task\r\n    inputs:\r\n      # See: https://cerb.ai/docs/records/types/task/#records-api\r\n      record_type: task\r\n      fields:\r\n        title: {{prompt_summary}}\r\n        owner_id: {{prompt_owner|default(0)}}\r\n        links@list:\r\n          project_board_column:{{inputs.column.id}}\r\n    #on_simulate:\r\n    on_success:\r\n      return:\r\n        links@list:\r\n          task:{{new_task.id}}\r\n    #on_error:",
    "policy_kata": "callers:\r\n  cerb.toolbar.projectBoardColumn:\r\n    allow@bool:\r\n      {{\r\n        cerb_record_writeable('project_board', board_id, 'worker', worker_id) \r\n        ? 'yes'\r\n      }}\r\n\r\ncommands:\r\n  record.create:\r\n    allow: yes",
    "created_at": 1600132275,
    "updated_at": 1607051984
}