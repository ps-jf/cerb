{
    "name": "ai.cerb.eventHandler.automation",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "inputs:\r\n  text/trigger:\r\n    required@bool: yes\r\n    type: freeform\r\n\r\nstart:\r\n  await:\r\n    form:\r\n      elements:\r\n        say/heading:\r\n          content: ## Add Automation\r\n          \r\n        sheet/prompt_automation_id:\r\n          label: Automation:\r\n          data:\r\n            function:\r\n              uri: cerb:automation:cerb.data.records\r\n              inputs:\r\n                record_type: automation\r\n                query_required: trigger:{{inputs.trigger}}\r\n          limit: 10\r\n          required@bool: yes\r\n          schema:\r\n            layout:\r\n              paging@bool: yes\r\n              headings@bool: no\r\n              filtering@bool: yes\r\n              title_column: _label\r\n            columns:\r\n              selection/id:\r\n                params:\r\n                  mode: single\r\n              text/_label:\r\n                params:\r\n                  bold@bool: yes\r\n              text/description:\r\n          # toolbar:\r\n          #   interaction/add:\r\n          #     label: Add\r\n          #     icon: circle-plus\r\n          #     #hidden@bool: is admin?\r\n          #     name: ai.cerb\r\n          #     inputs:\r\n          #     after:\r\n\r\n\r\n  set/load_automation:\r\n    automation_data__context: automation\r\n    automation_data_id@key: prompt_automation_id\r\n\r\n  return:\r\n    snippet@text:\r\n      automation/{{random_string(6)|lower}}:\r\n        uri: cerb:automation:{{automation_data_name}}\r\n        #disabled@bool: yes\r\n        {% set inputs = automation_data_inputs -%}\r\n        {% if inputs -%}\r\n        inputs:\r\n        {% for input in inputs %}\r\n        {{input.key}}:\r\n        {% endfor -%}\r\n        {% endif -%}",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141119
}