[
  {
    "name": "ai.cerb.automationBuilder.action.dataQuery",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        editor\/prompt_query:\r\n          label: Query:\r\n          required@bool: yes\r\n          syntax: cerb_query\r\n          default@text:\r\n            type:worklist.records\r\n            of:ticket\r\n            query:(\r\n              status:!d\r\n              created:\"-1 month\"\r\n            )\r\n            expand:[custom_]\r\n            format:dictionaries\r\n\r\n  return:\r\n    snippet@text:\r\n      data.query\/{{random_string(6)|lower}}:\r\n        inputs:\r\n          query@text:\r\n            {{prompt_query|indent('      ',2)}}\r\n        output: data_results\r\n        #on_simulate:\r\n        #on_success:\r\n        #on_error:",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603140923
  },
  {
    "name": "ai.cerb.automationBuilder.action.emailParser",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        editor\/prompt_message_source:\r\n          label: Message source;\r\n          syntax: text\r\n          default@text:\r\n            From: customer@cerb.example\r\n            To: support@cerb.example\r\n            Subject: This is an example\r\n            \r\n            This is an example message.\r\n\r\n  return:\r\n    snippet@text:\r\n      email.parse\/{{random_string(6)|lower}}:\r\n        output: results\r\n        inputs:\r\n          message@text:\r\n            {{prompt_message_source|indent('      ', 2)}}\r\n        #on_simulate:\r\n        #on_success:\r\n        #on_error:\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603140932
  },
  {
    "name": "ai.cerb.automationBuilder.action.function",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        say:\r\n          content@text: ## Function\r\n\r\n        sheet\/prompt_function_id:\r\n          label: Name:\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.records\r\n              inputs:\r\n                record_type: automation\r\n                query_required@text:\r\n                  trigger:cerb.trigger.automation.function\r\n          required@bool: yes\r\n          limit: 10\r\n          schema:\r\n            layout:\r\n              filtering@bool: yes\r\n              #paging@bool: no\r\n              headings@bool: no\r\n            columns:\r\n              selection\/id:\r\n                params:\r\n                  mode: single\r\n              text\/_label:\r\n                params:\r\n                  bold@bool: yes\r\n\r\n  set\/load_function:\r\n    function_data__context: automation\r\n    function_data_id@key: prompt_function_id\r\n\r\n  return:\r\n    snippet@text:\r\n      function\/{{random_string(6)|lower}}:\r\n        name: uri:automation:{{function_data_name}}\r\n        inputs:\r\n          {% for input in function_data_inputs -%}\r\n          {{input.key}}:\r\n          {% endfor %}\r\n\r\n        output: results\r\n        #on_simulate:\r\n        #on_success:\r\n        #on_error:",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603218398
  },
  {
    "name": "ai.cerb.automationBuilder.action.httpRequest",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        text\/prompt_url:\r\n          label: URL:\r\n          default: https:\/\/example.com\r\n          type: url\r\n          required@bool: yes\r\n          \r\n        sheet\/prompt_method:\r\n          label: Method:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              { \"name\": \"GET\" },\r\n              { \"name\": \"POST\" },\r\n              { \"name\": \"PUT\" },\r\n              { \"name\": \"DELETE\" }\r\n            ]\r\n          limit: 10\r\n          default: GET\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n            columns:\r\n              selection\/_selection:\r\n                params:\r\n                  mode: single\r\n                  value_key: name\r\n              text\/name:\r\n        \r\n        sheet\/has_auth:\r\n          label: Authorization:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              { \"name\": \"None\" },\r\n              { \"name\": \"OAuth\" },\r\n              { \"name\": \"AWS\" },\r\n              { \"name\": \"Bearer Token\" },\r\n              { \"name\": \"Other\" }\r\n            ]\r\n          limit: 10\r\n          default: None\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n            columns:\r\n              selection\/_selection:\r\n                params:\r\n                  mode: single\r\n                  value_key: name\r\n              text\/name:\r\n              \r\n  decision\/needs_auth:\r\n    outcome:\r\n      if@bool:\r\n        {{has_auth != 'None' ? 'yes'}}\r\n      then:\r\n        await:\r\n          form:\r\n            elements:\r\n              sheet\/prompt_account_id:\r\n                label: Sign requests with which account?\r\n                data:\r\n                  function:\r\n                    uri: uri:automation:cerb.data.records\r\n                    inputs:\r\n                      record_type: connected_account\r\n                      query_required@text:\r\n                        {% if has_auth == 'OAuth' %}\r\n                        service:(type:oauth)\r\n                        {% elseif has_auth == 'AWS' %}\r\n                        service:(type:aws)\r\n                        {% elseif has_auth == 'Bearer Token' %}\r\n                        service:(type:bearer)\r\n                        {% endif %}\r\n                limit: 10\r\n                #default:\r\n                schema:\r\n                  layout:\r\n                    filtering@bool: yes\r\n                    headings: no\r\n                  columns:\r\n                    selection\/id:\r\n                      params:\r\n                        mode: single\r\n                    card\/_label:\r\n                      params:\r\n                        bold: yes\r\n                    text\/service_extension_name:\r\n                      params:\r\n                        underline@bool: no\r\n                      \r\n  return:\r\n    snippet@text:\r\n      http.request\/{{random_string(6)|lower}}:\r\n        output: http_response\r\n        inputs:\r\n          method: {{prompt_method}}\r\n          url: {{prompt_url}}\r\n          #headers@text:\r\n          #  Content-Type: text\/plain\r\n          #  X-HeaderName: Header value\r\n          #body@text:\r\n          #  This is the body content\r\n          {% if prompt_account_id -%}\r\n          connected_account_id: {{prompt_account_id}}\r\n          {% endif %}\r\n        \r\n        # on_simulate:\r\n        #   set:\r\n        #     http_response:\r\n        #       status_code@int: 200\r\n        #       content_type: application\/json\r\n        #       headers:\r\n        #         x-example: some header\r\n        #       body@text:\r\n        #         {status:\"ok\"}\r\n        on_success:\r\n        on_error:",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603393121
  },
  {
    "name": "ai.cerb.automationBuilder.action.recordCreate",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await\/type:\r\n    form:\r\n      elements:\r\n        sheet\/prompt_record_type:\r\n          label: Record Type:\r\n          required@bool: yes\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.record.types\r\n              inputs:\r\n          limit: 15\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: yes\r\n              filtering@bool: yes\r\n            columns:\r\n              selection\/uri:\r\n                params:\r\n                  mode: single\r\n              text\/label_singular:\r\n                params:\r\n                  bold@bool: yes\r\n\r\n  await\/fields:\r\n    form:\r\n      elements:\r\n        sheet\/prompt_record_fields:\r\n          label: Record Fields:\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.record.fields\r\n              inputs:\r\n                of: {{prompt_record_type}}\r\n          limit: 15\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: yes\r\n              filtering@bool: yes\r\n              title_column: _key\r\n            columns:\r\n              selection\/key:\r\n                params:\r\n                  mode: multiple\r\n              # icon\/is_required:\r\n              #   params:\r\n              #     image_template@raw: {{is_required ? 'asterisk'}}\r\n              text\/_key:\r\n                params:\r\n                  bold@bool: yes\r\n                  value_key: key\r\n                  icon:\r\n                    image_template@raw: {{is_required ? 'asterisk'}}\r\n              text\/type:\r\n              text\/notes:\r\n\r\n  return:\r\n    snippet@text:\r\n      {% set record_uri = prompt_record_type %}\r\n      record.create\/{{random_string(6)|lower}}:\r\n        output: new_{{record_uri}}\r\n        inputs:\r\n          # See: https:\/\/cerb.ai\/docs\/records\/types\/{{record_uri}}\/#records-api\r\n          record_type: {{record_uri}}\r\n          fields:\r\n            {% for field in prompt_record_fields -%}\r\n            {{field}}:\r\n            {% endfor %}\r\n            \r\n        #on_simulate:\r\n        #on_success:\r\n        #on_error:",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603140993
  },
  {
    "name": "ai.cerb.automationBuilder.input.array",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        text\/prompt_key:\r\n          label: Key:\r\n          type: uri\r\n          required@bool: yes\r\n  \r\n        sheet\/prompt_required:\r\n          label: Required:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              { \"name\": \"yes\" },\r\n              { \"name\": \"no\" }\r\n            ]\r\n          limit: 10\r\n          default: yes\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n            columns:\r\n              selection\/_selection:\r\n                params:\r\n                  mode: single\r\n                  value_key: name\r\n              text\/name:\r\n\r\n  return:\r\n    snippet@text:\r\n      array\/{{prompt_key|lower}}:\r\n        required@bool: {{prompt_required}}\r\n",
    "policy_kata": "",
    "created_at": 1602294349,
    "updated_at": 1603141002
  },
  {
    "name": "ai.cerb.automationBuilder.input.record",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        text\/prompt_key:\r\n          label: Key:\r\n          type: uri\r\n          required@bool: yes\r\n  \r\n        sheet\/prompt_record_type:\r\n          label: Record Type:\r\n          required@bool: yes\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.record.types\r\n              inputs:\r\n          limit: 10\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: yes\r\n              filtering@bool: yes\r\n            columns:\r\n              selection\/uri:\r\n                params:\r\n                  mode: single\r\n              text\/label_singular:\r\n                params:\r\n                  bold@bool: yes\r\n  \r\n        sheet\/prompt_required:\r\n          label: Required:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              { \"name\": \"yes\" },\r\n              { \"name\": \"no\" }\r\n            ]\r\n          limit: 10\r\n          default: yes\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n            columns:\r\n              selection\/_selection:\r\n                params:\r\n                  mode: single\r\n                  value_key: name\r\n              text\/name:\r\n\r\n  return:\r\n    snippet@text:\r\n      record\/{{prompt_key|lower}}:\r\n        record_type: {{prompt_record_type}}\r\n        required@bool: {{prompt_required}}\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141013
  },
  {
    "name": "ai.cerb.automationBuilder.input.records",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        text\/prompt_key:\r\n          label: Key:\r\n          type: uri\r\n          required@bool: yes\r\n  \r\n        sheet\/prompt_record_type:\r\n          label: Record Type:\r\n          required@bool: yes\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.record.types\r\n              inputs:\r\n          limit: 10\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: yes\r\n              filtering@bool: yes\r\n            columns:\r\n              selection\/uri:\r\n                params:\r\n                  mode: single\r\n              text\/label_singular:\r\n                params:\r\n                  bold@bool: yes\r\n  \r\n        sheet\/prompt_required:\r\n          label: Required:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              { \"name\": \"yes\" },\r\n              { \"name\": \"no\" }\r\n            ]\r\n          limit: 10\r\n          default: yes\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n            columns:\r\n              selection\/_selection:\r\n                params:\r\n                  mode: single\r\n                  value_key: name\r\n              text\/name:\r\n\r\n  return:\r\n    snippet@text:\r\n      records\/{{prompt_key|lower}}:\r\n        record_type: {{prompt_record_type}}\r\n        required@bool: {{prompt_required}}\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141022
  },
  {
    "name": "ai.cerb.automationBuilder.input.text",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        say\/type:\r\n          content: ## Inputs: Text\r\n  \r\n        text\/prompt_key:\r\n          label: Key:\r\n          required@bool: yes\r\n          type: uri\r\n          placeholder: lowercase, a-z, 0-9, and underscore\r\n  \r\n        sheet\/prompt_type:\r\n          label: Type:\r\n          data@json:\r\n            [\r\n              {\r\n                \"key\": \"freeform\",\r\n                \"name\": \"Freeform\",\r\n                \"description\": \"An arbitrary string of text\"\r\n              },\r\n              {\r\n                \"key\": \"bool\",\r\n                \"name\": \"Boolean\",\r\n                \"description\": \"true or false\"\r\n              },\r\n              {\r\n                \"key\": \"date\",\r\n                \"name\": \"Date\",\r\n                \"description\": \"tomorrow 5pm, +2 weeks, Friday\"\r\n              },\r\n              {\r\n                \"key\": \"decimal\",\r\n                \"name\": \"Decimal\",\r\n                \"description\": \"3.1415\"\r\n              },\r\n              {\r\n                \"key\": \"email\",\r\n                \"name\": \"Email\",\r\n                \"description\": \"client@example.com\"\r\n              },\r\n              {\r\n                \"key\": \"geopoint\",\r\n                \"name\": \"Geopoint\",\r\n                \"description\": \"44.226737, 20.7953 (lat, long)\"\r\n              },\r\n              {\r\n                \"key\": \"ip\",\r\n                \"name\": \"IP\",\r\n                \"description\": \"1.2.3.4 or a1b2:c3d4:e5f6:a1b2:c3d4:e5f6:a1b2:c3d4\"\r\n              },\r\n              {\r\n                \"key\": \"IPv4\",\r\n                \"name\": \"IPv4\",\r\n                \"description\": \"1.2.3.4\"\r\n              },\r\n              {\r\n                \"key\": \"IPv6\",\r\n                \"name\": \"IPv6\",\r\n                \"description\": \"a1b2:c3d4:e5f6:a1b2:c3d4:e5f6:a1b2:c3d4\"\r\n              },\r\n              {\r\n                \"key\": \"number\",\r\n                \"name\": \"Number\",\r\n                \"description\": \"1234\"\r\n              },\r\n              {\r\n                \"key\": \"record_type\",\r\n                \"name\": \"Record Type\",\r\n                \"description\": \"address, comment, ticket, worker\"\r\n              },\r\n              {\r\n                \"key\": \"timestamp\",\r\n                \"name\": \"Timestamp\",\r\n                \"description\": \"1601337600\"\r\n              },\r\n              {\r\n                \"key\": \"uri\",\r\n                \"name\": \"URI\",\r\n                \"description\": \"alphanumeric_with_underscores (a-z, 0-9, _)\"\r\n              },\r\n              {\r\n                \"key\": \"url\",\r\n                \"name\": \"URL\",\r\n                \"description\": \"https:\/\/example.com\/path\/file.png\"\r\n              }\r\n            ]\r\n          default@list:\r\n            freeform\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n            columns:\r\n              selection\/key:\r\n                params:\r\n                  mode: single\r\n              text\/name:\r\n                params:\r\n                  bold@bool: yes\r\n              text\/description:\r\n  \r\n        text\/prompt_default:\r\n          label: Default:\r\n          type: freeform\r\n  \r\n        sheet\/prompt_required:\r\n          label: Required:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              { \"name\": \"yes\" },\r\n              { \"name\": \"no\" }\r\n            ]\r\n          limit: 10\r\n          default: yes\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n            columns:\r\n              selection\/_selection:\r\n                params:\r\n                  mode: single\r\n                  value_key: name\r\n              text\/name:\r\n\r\n  return:\r\n    snippet@text:\r\n      text\/{{prompt_key|lower}}:\r\n        type: {{prompt_type}}\r\n        {% if prompt_required == 'yes' -%}\r\n        required@bool: yes\r\n        {% endif -%}\r\n        {% if prompt_default -%}\r\n        default: {{prompt_default}}\r\n        {% endif -%}",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141032
  },
  {
    "name": "ai.cerb.automationBuilder.ui.interaction.await.map",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n      # [TODO] region: world, us, europe, asia, africa\r\n\r\n  return:\r\n    snippet@text:\r\n      map\/respond_{{random_string(6)|lower}}:\r\n        region: world\r\n        geojson@json:\r\n          {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [\r\n              {\r\n                \"type\": \"Feature\",\r\n                \"geometry\": {\r\n                  \"type\": \"Point\",\r\n                  \"coordinates\": [44.226737, 20.7953]\r\n                },\r\n                \"properties\": {\r\n                  \"name\": \"Label\"\r\n                }\r\n              }\r\n            ]\r\n          }",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141048
  },
  {
    "name": "ai.cerb.automationBuilder.ui.interaction.await.promptEditor",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await\/setup:\r\n    form:\r\n      elements:\r\n        text\/prompt_label:\r\n          label: Label:\r\n          required@bool: yes\r\n  \r\n        sheet\/prompt_syntax:\r\n          label: Mode:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              {\r\n                \"mode\": \"cerb_query\",\r\n                \"name\": \"Cerb Query\"\r\n              },\r\n              {\r\n                \"mode\": \"html\",\r\n                \"name\": \"HTML\"\r\n              },\r\n              {\r\n                \"mode\": \"json\",\r\n                \"name\": \"JSON\"\r\n              },\r\n              {\r\n                \"mode\": \"markdown\",\r\n                \"name\": \"Markdown\"\r\n              },\r\n              {\r\n                \"mode\": \"text\",\r\n                \"name\": \"Text\"\r\n              },\r\n              {\r\n                \"mode\": \"yaml\",\r\n                \"name\": \"YAML\"\r\n              }\r\n            ]\r\n          default@list:\r\n            cerb_query\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n            columns:\r\n              selection\/mode:\r\n                params:\r\n                  mode: single\r\n              text\/name:\r\n                params:\r\n                  bold@bool: yes\r\n  await\/default:\r\n    form:\r\n      elements:\r\n        editor\/prompt_default:\r\n          label: Default:\r\n          mode: {{prompt_mode}}\r\n\r\n  return:\r\n    snippet@text:\r\n      editor\/prompt_{{random_string(6)|lower}}:\r\n        label: {{prompt_label}}\r\n        syntax: {{prompt_syntax}}\r\n        {% if prompt_default -%}\r\n        default@text:\r\n          {{prompt_default|indent('    ', 2)}}\r\n        {% endif -%}\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141060
  },
  {
    "name": "ai.cerb.automationBuilder.ui.interaction.await.promptSheet",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        sheet\/prompt_style:\r\n          label: Style:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              {\r\n                \"key\": \"custom\",\r\n                \"name\": \"Custom\",\r\n                \"description\": \"Provide your own data.\"\r\n              },\r\n              {\r\n                \"key\": \"record_chooser\",\r\n                \"name\": \"Record Chooser\",\r\n                \"description\": \"Select records of a given type.\"\r\n              }\r\n            ]\r\n          limit: 10\r\n          #default: option1\r\n          schema:\r\n            layout:\r\n              #style: grid\r\n              headings@bool: no\r\n              paging@bool: no\r\n              #filtering@bool: yes\r\n              #title_column: key\r\n            columns:\r\n              selection\/key:\r\n                params:\r\n                  mode: single\r\n              text\/name:\r\n                params:\r\n                  bold@bool: yes\r\n              text\/description:\r\n  \r\n  decision\/style:\r\n    outcome\/custom:\r\n      if@bool: {{prompt_style == 'custom' ? 'yes'}}\r\n      then:\r\n        return:\r\n          snippet@text:\r\n            sheet\/prompt_{{random_string(6)|lower}}:\r\n              label: Label:\r\n              required@bool: yes\r\n              data@json:\r\n                [\r\n                  {\r\n                    \"key\": \"option1\",\r\n                    \"name\": \"Option 1\",\r\n                    \"description\": \"This is a description of option one.\"\r\n                  },\r\n                  {\r\n                    \"key\": \"option2\",\r\n                    \"name\": \"Option 2\",\r\n                    \"description\": \"This is a description of option two.\"\r\n                  }\r\n                ]\r\n              limit: 5\r\n              default: option1\r\n              schema:\r\n                layout:\r\n                  headings@bool: no\r\n                  paging@bool: no\r\n                  #filtering@bool: yes\r\n                  #title_column: key\r\n                columns:\r\n                  selection\/key:\r\n                    params:\r\n                      mode: single\r\n                      #mode: multiple\r\n                  text\/name:\r\n                    params:\r\n                      bold@bool: yes\r\n                  text\/description:\r\n    \r\n    outcome\/record_chooser:\r\n      if@bool: {{prompt_style == 'record_chooser' ? 'yes'}}\r\n      then:\r\n        return:\r\n          snippet@text:\r\n            sheet\/prompt_{{random_string(6)|lower}}:\r\n              label: Label:\r\n              required@bool: yes\r\n              data:\r\n                function:\r\n                  uri: uri:automation:cerb.data.records\r\n                  inputs:\r\n                    record_type: task\r\n                    query_required@text:\r\n                      status:o\r\n              limit: 5\r\n              #default: option1\r\n              schema:\r\n                layout:\r\n                  headings@bool: no\r\n                  paging@bool: no\r\n                  filtering@bool: yes\r\n                  #title_column: key\r\n                columns:\r\n                  selection\/id:\r\n                    params:\r\n                      mode: single\r\n                      #mode: multiple\r\n                  card\/_label:\r\n                    params:\r\n                      bold@bool: yes\r\n                      #image@bool: yes\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141075
  },
  {
    "name": "ai.cerb.automationBuilder.ui.interaction.await.promptText",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await\/field:\r\n    form:\r\n      elements:\r\n        say\/type:\r\n          content: ## Yield: Text\r\n          \r\n        text\/prompt_label:\r\n          label: Label:\r\n          required@bool: yes\r\n          \r\n        sheet\/prompt_type:\r\n          label: Type:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              {\r\n                \"key\": \"freeform\",\r\n                \"name\": \"Freeform\",\r\n                \"description\": \"An arbitrary string of text\"\r\n              },\r\n              {\r\n                \"key\": \"bool\",\r\n                \"name\": \"Boolean\",\r\n                \"description\": \"true or false\"\r\n              },\r\n              {\r\n                \"key\": \"date\",\r\n                \"name\": \"Date\",\r\n                \"description\": \"tomorrow 5pm, +2 weeks, Friday\"\r\n              },\r\n              {\r\n                \"key\": \"decimal\",\r\n                \"name\": \"Decimal\",\r\n                \"description\": \"3.1415\"\r\n              },\r\n              {\r\n                \"key\": \"email\",\r\n                \"name\": \"Email\",\r\n                \"description\": \"client@example.com\"\r\n              },\r\n              {\r\n                \"key\": \"geopoint\",\r\n                \"name\": \"Geopoint\",\r\n                \"description\": \"44.226737, 20.7953 (lat, long)\"\r\n              },\r\n              {\r\n                \"key\": \"ip\",\r\n                \"name\": \"IP\",\r\n                \"description\": \"1.2.3.4 or a1b2:c3d4:e5f6:a1b2:c3d4:e5f6:a1b2:c3d4\"\r\n              },\r\n              {\r\n                \"key\": \"IPv4\",\r\n                \"name\": \"IPv4\",\r\n                \"description\": \"1.2.3.4\"\r\n              },\r\n              {\r\n                \"key\": \"IPv6\",\r\n                \"name\": \"IPv6\",\r\n                \"description\": \"a1b2:c3d4:e5f6:a1b2:c3d4:e5f6:a1b2:c3d4\"\r\n              },\r\n              {\r\n                \"key\": \"number\",\r\n                \"name\": \"Number\",\r\n                \"description\": \"1234\"\r\n              },\r\n              {\r\n                \"key\": \"record_type\",\r\n                \"name\": \"Record Type\",\r\n                \"description\": \"address, comment, ticket, worker\"\r\n              },\r\n              {\r\n                \"key\": \"timestamp\",\r\n                \"name\": \"Timestamp\",\r\n                \"description\": \"1601337600\"\r\n              },\r\n              {\r\n                \"key\": \"uri\",\r\n                \"name\": \"URI\",\r\n                \"description\": \"alphanumeric_with_underscores (a-z, 0-9, _)\"\r\n              },\r\n              {\r\n                \"key\": \"url\",\r\n                \"name\": \"URL\",\r\n                \"description\": \"https:\/\/example.com\/path\/file.png\"\r\n              }\r\n            ]\r\n          default: freeform\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n            columns:\r\n              selection\/key:\r\n                params:\r\n                  mode: single\r\n              text\/name:\r\n                params:\r\n                  bold@bool: yes\r\n              text\/description:\r\n              \r\n        sheet\/prompt_required:\r\n          label: Required:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              { \"name\": \"yes\" },\r\n              { \"name\": \"no\" }\r\n            ]\r\n          limit: 10\r\n          default: yes\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n            columns:\r\n              selection\/_selection:\r\n                params:\r\n                  mode: single\r\n                  value_key: name\r\n              text\/name:\r\n              \r\n  await\/params:\r\n    form:\r\n      elements:\r\n        say\/type:\r\n          content@text:\r\n            ## Yield: Text ({{prompt_type}})\r\n            \r\n        text\/prompt_default:\r\n          label: Default:\r\n          default@text:\r\n            {% if 'bool' == prompt_type -%}\r\n            true\r\n            {% endif -%}\r\n            \r\n        text\/prompt_placeholder:\r\n          label: Placeholder:\r\n          default@text:\r\n            {% if 'bool' == prompt_type -%}\r\n            true or false\r\n            {% endif -%}\r\n                \r\n        text\/prompt_max_length:\r\n          label: Max Length:\r\n          type: number\r\n          hidden@bool:\r\n            {% if 'bool' == prompt_type -%}\r\n            yes\r\n            {% endif -%}\r\n            \r\n  return:\r\n    snippet@text:\r\n      text\/prompt_{{random_string(6)|lower}}:\r\n        label: {{prompt_label}}\r\n        required@bool: {{prompt_required == true ? 'yes'}}\r\n        type: {{prompt_type}}\r\n        {% if prompt_default -%}\r\n        default@text:\r\n          {{prompt_default|indent('    ',2)}}\r\n        {% endif -%}\r\n        {% if prompt_placeholder -%}\r\n        placeholder: {{prompt_placeholder}}\r\n        {% endif -%}\r\n        {% if prompt_max_length -%}\r\n        max_length: {{prompt_max_length}}\r\n        {% endif -%}\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603395533
  },
  {
    "name": "ai.cerb.automationBuilder.ui.interaction.await.say",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        editor\/prompt_message:\r\n          label: Message:\r\n          mode: markdown\r\n          required@bool: yes\r\n  \r\n        sheet\/prompt_format:\r\n          label: Format:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              {\r\n                \"key\": \"markdown\",\r\n                \"name\": \"Markdown\",\r\n                \"description\": \"Formatting with Markdown\"\r\n              },\r\n              {\r\n                \"key\": \"text\",\r\n                \"name\": \"Text\",\r\n                \"description\": \"Text with no formatting\"\r\n              }\r\n            ]\r\n          default: markdown\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              title_column: name\r\n            columns:\r\n              selection\/key:\r\n                params:\r\n                  mode: single\r\n              text\/name:\r\n                params:\r\n                  bold@bool: yes\r\n              text\/description:\r\n\r\n  return:\r\n    snippet@text:\r\n      say\/respond_{{random_string(6)|lower}}:\r\n        {{prompt_format == 'markdown' ? 'content' : 'message'}}@text:\r\n          {{prompt_message|indent('    ', 2)}}\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141104
  },
  {
    "name": "ai.cerb.cardEditor.automation.triggerChooser",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  # [TODO] Grid chooser by type (e.g. toolbar, etc)\r\n  await:\r\n    form:\r\n      elements:\r\n        sheet\/prompt_trigger:\r\n          label: Trigger:\r\n          required@bool: yes\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.platform.extensions\r\n              inputs:\r\n                point: cerb.automation.trigger\r\n          limit: 10\r\n          #default: cerb.trigger.ui.interaction\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              filtering@bool: yes\r\n              #title_column: key\r\n            columns:\r\n              selection\/id:\r\n                params:\r\n                  mode: single\r\n              text\/name:\r\n                params:\r\n                  bold@bool: yes\r\n  return:\r\n    trigger:\r\n      id: {{prompt_trigger}}\r\n      name: {{prompt_trigger}}",
    "policy_kata": "",
    "created_at": 1602889906,
    "updated_at": 1603141111
  },
  {
    "name": "ai.cerb.editor.mapBuilder",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      title: Map Builder\r\n      elements:\r\n        sheet\/prompt_map_resource:\r\n          label: Resource:\r\n          required@bool: yes\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.records\r\n              inputs:\r\n                record_type: resource\r\n                #query_required@text:\r\n                  #status:o\r\n          limit: 5\r\n          #default: option1\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              filtering@bool: yes\r\n              #title_column: key\r\n            columns:\r\n              selection\/name:\r\n                params:\r\n                  mode: single\r\n                  #mode: multiple\r\n              card\/_label:\r\n                params:\r\n                  bold@bool: yes\r\n                  #image@bool: yes\r\n        \r\n        sheet\/prompt_projection:\r\n          label: Projection:\r\n          required@bool: yes\r\n          data@json:\r\n            [\r\n              {\r\n                \"key\": \"naturalEarth\",\r\n                \"name\": \"Natural Earth\",\r\n                \"description\": \"Optimized for full world view\"\r\n              },\r\n              {\r\n                \"key\": \"mercator\",\r\n                \"name\": \"Mercator\",\r\n                \"description\": \"Optimized for flat representation of regions\"\r\n              },\r\n              {\r\n                \"key\": \"albersUsa\",\r\n                \"name\": \"Albers (USA)\",\r\n                \"description\": \"Optimized for a condensed view of all 50 states\"\r\n              }\r\n            ]\r\n          limit: 5\r\n          default: mercator\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              #filtering@bool: yes\r\n              #title_column: key\r\n            columns:\r\n              selection\/key:\r\n                params:\r\n                  mode: single\r\n                  #mode: multiple\r\n              text\/name:\r\n                params:\r\n                  bold@bool: yes\r\n              text\/description:\r\n  return:\r\n    snippet@text:\r\n      map:\r\n        resource:\r\n          uri: uri:resource:{{prompt_map_resource}}\r\n        projection:\r\n          type: {{prompt_projection}}\r\n          scale: 90\r\n          center:\r\n            longitude: 0\r\n            latitude: 0\r\n        regions:\r\n          label_key: name\r\n        points:\r\n          label_key: name\r\n          #resource:\r\n          #  uri: blah",
    "policy_kata": "",
    "created_at": 1604620522,
    "updated_at": 1604696953
  },
  {
    "name": "ai.cerb.eventHandler.automation",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "inputs:\r\n  text\/trigger:\r\n    required@bool: yes\r\n    type: freeform\r\n\r\nstart:\r\n  await:\r\n    form:\r\n      elements:\r\n        say\/heading:\r\n          content: ## Add Automation\r\n          \r\n        sheet\/prompt_automation_id:\r\n          label: Automation:\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.records\r\n              inputs:\r\n                record_type: automation\r\n                query_required: trigger:{{inputs.trigger}}\r\n          limit: 10\r\n          required@bool: yes\r\n          schema:\r\n            layout:\r\n              paging@bool: yes\r\n              headings@bool: no\r\n              filtering@bool: yes\r\n              title_column: _label\r\n            columns:\r\n              selection\/id:\r\n                params:\r\n                  mode: single\r\n              text\/_label:\r\n                params:\r\n                  bold@bool: yes\r\n              text\/description:\r\n          # toolbar:\r\n          #   interaction\/add:\r\n          #     label: Add\r\n          #     icon: circle-plus\r\n          #     #hidden@bool: is admin?\r\n          #     name: ai.cerb\r\n          #     inputs:\r\n          #     event\/done:\r\n\r\n\r\n  set\/load_automation:\r\n    automation_data__context: automation\r\n    automation_data_id@key: prompt_automation_id\r\n\r\n  return:\r\n    snippet@text:\r\n      automation\/{{random_string(6)|lower}}:\r\n        uri: uri:automation:{{automation_data_name}}\r\n        #disabled@bool: yes\r\n        {% set inputs = automation_data_inputs -%}\r\n        {% if inputs -%}\r\n        inputs:\r\n        {% for input in inputs %}\r\n        {{input.key}}:\r\n        {% endfor -%}\r\n        {% endif -%}",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141119
  },
  {
    "name": "ai.cerb.toolbarBuilder.interaction",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        say\/heading:\r\n          content: ## Add Interaction\r\n        \r\n        text\/prompt_label:\r\n          label: Label:\r\n          required@bool: yes\r\n          type: freeform\r\n        \r\n        sheet\/prompt_interaction_id:\r\n          label: Interaction:\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.records\r\n              inputs:\r\n                record_type: automation\r\n                query_required@text:\r\n                  trigger:cerb.trigger.ui.interaction\r\n                  name:!ai.cerb.*\r\n          limit: 10\r\n          required@bool: yes\r\n          schema:\r\n            layout:\r\n              paging@bool: yes\r\n              headings@bool: no\r\n              filtering@bool: yes\r\n              title_column: _label\r\n            columns:\r\n              selection\/id:\r\n                params:\r\n                  mode: single\r\n              text\/_label:\r\n                params:\r\n                  bold@bool: yes\r\n              text\/description:\r\n        \r\n        sheet\/prompt_icon:\r\n          label: Icon:\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.ui.icons\r\n          limit: 30\r\n          #default: menu-hamburger\r\n          schema:\r\n            layout:\r\n              style: grid\r\n              headings@bool: no\r\n              #paging@bool: no\r\n              filtering@bool: yes\r\n            columns:\r\n              selection\/icon:\r\n                params:\r\n                  mode: single\r\n              text\/preview:\r\n                params:\r\n                  value_template@raw:\r\n                    <span class=\"glyphicons glyphicons-{{icon}}\" style=\"font-size:150%;\"><\/span> {{icon}}\r\n  \r\n  set\/load_automation:\r\n    interaction_data__context: automation\r\n    interaction_data_id@key: prompt_interaction_id\r\n  \r\n  return:\r\n    snippet@text:\r\n      interaction\/{{random_string(6)|lower}}:\r\n        label: {{prompt_label}}\r\n        uri: uri:automation:{{interaction_data_name}}\r\n        {% if prompt_icon -%}\r\n        icon: {{prompt_icon}}\r\n        {% endif -%}\r\n        #hidden@bool: {% verbatim %}{{row_selections ? 'no' : 'yes'}}{% endverbatim %}\r\n        #badge: 0\r\n        {% set inputs = interaction_data_inputs -%}\r\n        {% if inputs -%}\r\n        inputs:\r\n        {% for input in inputs %}\r\n        {{input.key}}:\r\n        {% endfor -%}\r\n        {% endif -%}\r\n        event\/done:\r\n          #refresh_widgets@list: Actions\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603232738
  },
  {
    "name": "ai.cerb.toolbarBuilder.menu",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "start:\r\n  await:\r\n    form:\r\n      elements:\r\n        say\/heading:\r\n          content: ## Add Menu\r\n  \r\n        text\/prompt_label:\r\n          label: Label:\r\n          required@bool: yes\r\n          type: freeform\r\n          default: Menu\r\n  \r\n        sheet\/prompt_icon:\r\n          label: Icon:\r\n          required@bool: yes\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.ui.icons\r\n          limit: 30\r\n          filter: down\r\n          schema:\r\n            layout:\r\n              style: grid\r\n              headings@bool: no\r\n              paging@bool: no\r\n              filtering@bool: yes\r\n            columns:\r\n              selection\/icon:\r\n                params:\r\n                  mode: single\r\n              text\/preview:\r\n                params:\r\n                  value_template@raw:\r\n                    <span class=\"glyphicons glyphicons-{{icon}}\" style=\"font-size:150%;\"><\/span> {{icon}}\r\n\r\n  return:\r\n    snippet@text:\r\n      menu\/menu_{{random_string(6)|lower}}:\r\n        label: {{prompt_label}}\r\n        icon: {{prompt_icon}}\r\n        #hidden@bool: no\r\n        #badge: 0\r\n        items:\r\n          # menu items",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1603141149
  },
  {
    "name": "cerb.data.geojson",
    "description": "Generate GeoJSON output from a given list of coordinates",
    "extension_id": "cerb.trigger.widgetMap.getPoints",
    "script": "inputs:\r\n  array\/points:\r\n    required@bool: yes\r\n    \r\nstart:\r\n  data.query:\r\n    output: results\r\n    inputs:\r\n      query@text:\r\n        type:sample.geo.points\r\n        series.points:(\r\n          {% for point_key, point in inputs.points %}\r\n          {{point_key}}:(\r\n            name:\"{{point.name}}\"\r\n            coordinates:\"POINT({{point.longitude}} {{point.latitude}})\"\r\n          )\r\n          {% endfor %}\r\n        )\r\n        format:geojson\r\n  return:\r\n    points@key: results:data",
    "policy_kata": "data.query:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1602208889,
    "updated_at": 1602291849
  },
  {
    "name": "cerb.data.platform.extensions",
    "description": "A filterable, pageable list of platform extensions",
    "extension_id": "cerb.trigger.ui.sheet.data",
    "script": "inputs:\r\n  text\/point:\r\n    required@bool: yes\r\n  text\/page:\r\n    type: number\r\n    default: 0\r\n  text\/limit:\r\n    type: number\r\n    default: 30\r\n  text\/filter:\r\n    type: freeform\r\n\r\nstart:\r\n  data.query:\r\n    output: results\r\n    inputs:\r\n      query@text:\r\n        type:platform.extensions\r\n        point:{{inputs.point}}\r\n        {% if inputs.filter -%}\r\n        filter: {{inputs.filter}}\r\n        {% endif -%}\r\n        {% if inputs.limit -%}\r\n        limit: {{inputs.limit}}\r\n        {% endif -%}\r\n        {% if inputs.page -%}\r\n        page: {{inputs.page}}\r\n        {% endif -%}\r\n        format: dictionaries\r\n    on_success:\r\n      return:\r\n        data@key: results:data\r\n        paging@key: results:_:paging\r\n    on_error:\r\n      error:\r\n        message@key: results:errorstart:\r\n  ",
    "policy_kata": "data.query:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1602893730,
    "updated_at": 1602893730
  },
  {
    "name": "cerb.data.record.fields",
    "description": "A filterable, pageable list of record fields",
    "extension_id": "cerb.trigger.ui.sheet.data",
    "script": "inputs:\r\n  text\/of:\r\n    type: record_type\r\n    required@bool: yes\r\n  text\/page:\r\n    type: number\r\n    default: 0\r\n  text\/limit:\r\n    type: number\r\n    default: 30\r\n  text\/filter:\r\n    type: freeform\r\n\r\nstart:\r\n  data.query:\r\n    output: results\r\n    inputs:\r\n      query@text:\r\n        type: record.fields\r\n        of: {{inputs.of}}\r\n        {% if inputs.filter -%}\r\n        filter: {{inputs.filter}}\r\n        {% endif -%}\r\n        {% if inputs.limit -%}\r\n        limit: {{inputs.limit}}\r\n        {% endif -%}\r\n        {% if inputs.page -%}\r\n        page: {{inputs.page}}\r\n        {% endif -%}\r\n        format: dictionaries\r\n    on_success:\r\n      return:\r\n        data@key: results:data\r\n        paging@key: results:_:paging\r\n    on_error:\r\n      error:\r\n        message@key: results:error",
    "policy_kata": "data.query:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1600988045,
    "updated_at": 1602725392
  },
  {
    "name": "cerb.data.record.types",
    "description": "A filterable, pageable list of record types",
    "extension_id": "cerb.trigger.ui.sheet.data",
    "script": "inputs:\r\n  text\/page:\r\n    type: number\r\n    default: 0\r\n  text\/limit:\r\n    type: number\r\n    default: 30\r\n  text\/filter:\r\n    type: freeform\r\n\r\nstart:\r\n  data.query:\r\n    output: results\r\n    inputs:\r\n      query@text:\r\n        type: record.types\r\n        {% if inputs.filter -%}\r\n        filter: {{inputs.filter}}\r\n        {% endif -%}\r\n        {% if inputs.limit -%}\r\n        limit: {{inputs.limit}}\r\n        {% endif -%}\r\n        {% if inputs.page -%}\r\n        page: {{inputs.page}}\r\n        {% endif -%}\r\n        format: dictionaries\r\n    on_success:\r\n      return:\r\n        data@key: results:data\r\n        paging@key: results:_:paging\r\n    on_error:\r\n      error:\r\n        message@key: results:error",
    "policy_kata": "data.query:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1600722810,
    "updated_at": 1602725403
  },
  {
    "name": "cerb.data.records",
    "description": "A filterable, pageable list of a given record type",
    "extension_id": "cerb.trigger.ui.sheet.data",
    "script": "inputs:\r\n  text\/record_type:\r\n    type: record_type\r\n    required@bool: yes\r\n  text\/filter:\r\n    type: freeform\r\n  text\/query_required:\r\n    type: freeform\r\n  text\/page:\r\n    type: number\r\n    default@int: 0\r\n  text\/limit:\r\n    type: number\r\n    default@int: 0\r\n\r\nstart:\r\n  data.query:\r\n    output: results\r\n    inputs:\r\n      query@text:\r\n        type: worklist.records\r\n        of: {{inputs.record_type}}\r\n        query.required: (\r\n          {{inputs.query_required}}\r\n          {% if inputs.limit %}limit: {{inputs.limit}}{% endif %}\r\n        )\r\n        {% if inputs.filter -%}\r\n        query: (\r\n          {{inputs.filter}}\r\n        )\r\n        {% endif -%}\r\n        {% if inputs.limit and inputs.page -%}\r\n        page: {{inputs.page}}\r\n        {% endif -%}\r\n        format: dictionaries\r\n    on_success:\r\n      return:\r\n        data@key: results:data\r\n        paging@key: results:_:paging\r\n    on_error:\r\n      error:\r\n        message@key: results:error",
    "policy_kata": "data.query:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1600722810,
    "updated_at": 1602725411
  },
  {
    "name": "cerb.data.ui.icons",
    "description": "A filterable, pageable list of icons",
    "extension_id": "cerb.trigger.ui.sheet.data",
    "script": "inputs:\r\n  text\/page:\r\n    type: number\r\n    default: 0\r\n  text\/limit:\r\n    type: number\r\n    default: 30\r\n  text\/filter:\r\n    type: freeform\r\n\r\nstart:\r\n  data.query:\r\n    output: results\r\n    inputs:\r\n      query@text:\r\n        type:ui.icons\r\n        {% if inputs.limit -%}\r\n        limit: {{inputs.limit}}\r\n        page: {{inputs.page}}\r\n        {% endif -%}\r\n        {% if inputs.filter -%}\r\n        filter: {{inputs.filter}}\r\n        {% endif -%}\r\n        format:dictionaries\r\n    on_success:\r\n      return:\r\n        data@key: results:data\r\n        paging@key: results:_:paging",
    "policy_kata": "data.query:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1600722810,
    "updated_at": 1602725420
  },
  {
    "name": "cerb.map.clicked.sheet",
    "description": "Display a sheet based on properties of the selected GeoJSON feature",
    "extension_id": "cerb.trigger.map.clicked",
    "script": "inputs:\r\n  array\/sheet:\r\n    required@bool: yes\r\n\r\nstart:\r\n  return:\r\n    sheet@key: inputs:sheet",
    "policy_kata": "",
    "created_at": 1605050530,
    "updated_at": 1605139012
  },
  {
    "name": "cerb.projectBoard.action.task.close",
    "description": "Close task cards when they enter this project board column",
    "extension_id": "cerb.trigger.projectBoard.cardAction",
    "script": "start:\r\n  decision:\r\n    outcome\/task:\r\n      if@bool:\r\n        {{card__context|context_alias == 'task' ? 'yes'}}\r\n      then:\r\n        record.update:\r\n          output: record_task\r\n          inputs:\r\n            record_type: task\r\n            record_id: {{card_id}}\r\n            fields:\r\n              status: closed\r\n        return:",
    "policy_kata": "record.update:\r\n  rule:\r\n    allow@bool: {{inputs.record_type|context_alias == 'task' ? 'yes'}}",
    "created_at": 1595204694,
    "updated_at": 1602111293
  },
  {
    "name": "cerb.projectBoard.card.done",
    "description": "Render a card with a completed style",
    "extension_id": "cerb.trigger.projectBoard.renderCard",
    "script": "start:\r\n  return:\r\n    sheet:\r\n      columns:\r\n        card\/card__label:\r\n          params:\r\n            icon:\r\n              image: circle-ok\r\n",
    "policy_kata": "",
    "created_at": 1600378290,
    "updated_at": 1602109932
  },
  {
    "name": "cerb.projectBoard.card.sheet",
    "description": "Render an arbitrary sheet for a project board card",
    "extension_id": "cerb.trigger.projectBoard.renderCard",
    "script": "inputs:\r\n  array\/sheet:\r\n    required@bool: yes\r\n    # [TODO] Schema definition\r\n\r\nstart:\r\n  return:\r\n    sheet@key: inputs:sheet",
    "policy_kata": "",
    "created_at": 1602036928,
    "updated_at": 1602110352
  },
  {
    "name": "cerb.projectBoard.toolbar.task.add",
    "description": "",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "inputs:\r\n  record\/column:\r\n    record_type: project_board_column\r\n    required@bool: yes\r\n\r\nstart:\r\n  await:\r\n    form:\r\n      elements:\r\n        say\/respond_98b765:\r\n          content: ## Add task\r\n        \r\n        text\/prompt_summary:\r\n          label: Summary:\r\n          required@bool: yes\r\n          type: freeform\r\n          placeholder: (enter a brief description of the task)\r\n          \r\n        sheet\/prompt_owner:\r\n          label: Owner:\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.records\r\n              inputs:\r\n                record_type: worker\r\n                query_required: isDisabled:n\r\n          limit: 5\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              filtering@bool: yes\r\n              #title_column: key\r\n            columns:\r\n              selection\/id:\r\n                params:\r\n                  mode: single\r\n                  #mode: multiple\r\n              card\/_label:\r\n                params:\r\n                  bold@bool: yes\r\n                  image@bool: yes\r\n              text\/title:\r\n  \r\n  record.create\/create_task:\r\n    output: new_task\r\n    inputs:\r\n      # See: https:\/\/cerb.ai\/docs\/records\/types\/task\/#records-api\r\n      record_type: task\r\n      fields:\r\n        title: {{prompt_summary}}\r\n        owner_id: {{prompt_owner|default(0)}}\r\n        links@list:\r\n          project_board_column:{{inputs.column.id}}\r\n    #on_simulate:\r\n    on_success:\r\n      return:\r\n        links@list:\r\n          task:{{new_task.id}}\r\n    #on_error:",
    "policy_kata": "record.create:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1600132275,
    "updated_at": 1603141157
  },
  {
    "name": "cerb.projectBoard.toolbar.task.find",
    "description": "Find tasks",
    "extension_id": "cerb.trigger.ui.interaction",
    "script": "inputs:\r\n  record\/column:\r\n    record_type: project_board_column\r\n    required@bool: yes\r\n\r\nstart:\r\n  await:\r\n    form:\r\n      elements:\r\n        say\/respond_jgnssn:\r\n          content@text:\r\n            ## Link tasks\r\n        sheet\/prompt_tasks:\r\n          #label: Link tasks:\r\n          required@bool: yes\r\n          data:\r\n            function:\r\n              uri: uri:automation:cerb.data.records\r\n              inputs:\r\n                record_type: task\r\n                query_required@text:\r\n                  status:!c\r\n                  links.project_board_column:!(\r\n                    board.id:{{inputs.column.board_id}}\r\n                  )\r\n                  sort:-id\r\n          limit: 15\r\n          #default: option1\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              filtering@bool: yes\r\n              title_column: _label\r\n            columns:\r\n              selection\/id:\r\n                params:\r\n                  mode: multiple\r\n              card\/_label:\r\n                params:\r\n                  bold@bool: yes\r\n              date\/created:\r\n              slider\/importance:\r\n              card\/owner__label:\r\n                params:\r\n                  image@bool: yes\r\n              #text\/description:\r\n  \r\n  repeat:\r\n    each@key: prompt_tasks\r\n    as: task_id\r\n    do:\r\n      var.push:\r\n        inputs:\r\n          key: task_links\r\n          value: task:{{task_id}}\r\n  \r\n  record.update:\r\n    output: record_updated\r\n    inputs:\r\n      record_type: project_board_column\r\n      record_id: {{inputs.column.id}}\r\n      fields:\r\n        links@key: task_links\r\n          \r\n",
    "policy_kata": "record.update:\r\n  rule:\r\n    allow@bool: yes",
    "created_at": 1602026740,
    "updated_at": 1603141164
  },
  {
    "name": "cerb.reminder.remind.notification",
    "description": "Remind by notification",
    "extension_id": "cerb.trigger.reminder.remind",
    "script": "start:\r\n  record.create:\r\n    output: new_notification\r\n    inputs:\r\n      # See: https:\/\/cerb.ai\/docs\/records\/types\/notification\/#records-api\r\n      record_type: notification\r\n      fields:\r\n        worker_id: {{reminder_worker_id}}\r\n        target__context: reminder\r\n        target_id: {{reminder_id}}\r\n        activity_point: custom.other\r\n        params:\r\n          message@raw: Reminder: {{reminder}}\r\n          variables:\r\n            reminder: {{reminder__label}}\r\n          urls:\r\n            reminder: ctx:\/\/{{reminder__context}}:{{reminder_id}}",
    "policy_kata": "record.create:\r\n  rule\/create_notification:\r\n    allow@bool:\r\n      {{\r\n        inputs.record_type|context_alias == 'notification' \r\n        ? 'yes'\r\n      }}",
    "created_at": 1600990518,
    "updated_at": 1601425305
  }
]